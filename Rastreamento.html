<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rastreamento de Pedidos - Loja de Doces</title>
    <link rel="stylesheet" href="style.css">                                                                                                                                                                                                                                                                                                                                                                   

    <style>
        body { font-family: Arial, sans-serif; background-color:  #214F50; }
        .container { width: 60%; margin: auto; padding: 20px; background: #ffcccb; border-radius: 10px; }
        table { width: 100%; border-collapse: collapse; margin-top: 20px; background: white; border-radius: 5px; }
        th, td { border: 1px solid black; padding: 10px; }
        th { background: #ff6666; color: white; }
        button { margin-top: 10px; padding: 10px 15px; background: #ff6666; color: white; border: none; cursor: pointer; border-radius: 5px; }
        select { padding: 5px; margin-top: 10px; }
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            text-align: center;
        }
        header, footer {
            background-color: #F3D8CF;
            color: rgb(0, 0, 0);
            padding: 15px;
        }
        main {
            padding: 20px;
        }
        .banner {
            width: 80%;
            max-height: 400px;
            object-fit: cover;
        }
    </style>
    <script>
        const pedidos = [
            { id: 1, cliente: "Ana Souza", pedido: "Brigadeiro Gourmet", status: "Pedido Recebido" },
            { id: 2, cliente: "Isabela Lima", pedido: "Brownie", status: "Em Preparo" },
            { id: 3, cliente: "Alícia Paula", pedido: "Cone trufado", status: "Saiu para Entrega" },
            { id: 4, cliente: "Elton Gabriel", pedido: "Cupcake de Chocolate", status: "Pedido Recebido" },
            { id: 5, cliente: "Leonardo Cobra", pedido: "Palito trufado", status: "Em Preparo" },
            { id: 6, cliente: "Brenda Maria", pedido: "Brownie de Nozes", status: "Saiu para Entrega" },
            { id: 7, cliente: "Kauã Alves", pedido: "Pudim", status: "Pedido Recebido" }
        ];
        
        function atualizarListaPedidos(clienteFiltro = "Todos") {
            const tbody = document.getElementById("order-list");
            tbody.innerHTML = "";
            
            pedidos.forEach(pedido => {
                if (clienteFiltro === "Todos" || pedido.cliente === clienteFiltro) {
                    const row = `<tr>
                        <td>${pedido.id}</td>
                        <td>${pedido.cliente}</td>
                        <td>${pedido.pedido}</td>
                        <td>${pedido.status}</td>
                    </tr>`;
                    tbody.innerHTML += row;
                }
            });
        }
        
        function atualizarPedidos() {
            const statusAtualizacao = ["Pedido Recebido", "Em Preparo", "Saiu para Entrega", "Entregue"];
            
            pedidos.forEach(pedido => {
                const proximoStatus = statusAtualizacao[(statusAtualizacao.indexOf(pedido.status) + 1) % statusAtualizacao.length];
                pedido.status = proximoStatus;
            });
            
            atualizarListaPedidos(document.getElementById("cliente-select").value);
        }
        
        function carregarClientes() {
            const clientesUnicos = [...new Set(pedidos.map(p => p.cliente))];
            const select = document.getElementById("cliente-select");
            select.innerHTML = '<option value="Todos">Todos</option>' + clientesUnicos.map(c => `<option value="${c}">${c}</option>`).join("");
            try {
    pedidos.forEach(pedido => {
    });
} catch (error) {
    console.error("Erro ao atualizar pedidos:", error);  
}
        }
        
        window.onload = function() {
            carregarClientes();
            atualizarListaPedidos();
            setInterval(atualizarPedidos, 5000);
        };
    </script>
</head>
<body>
    <header>
        <div class="logo">
            <img src="./assets/img/doce_encanto_logo_circular.png" alt="Logo da loja de doces" width="60px">
        </div>
        <div class="lista">
            <ul>
                <li><a href="./index.html"><button>Início</button></a></li>
                <li><a href="./comprar.html"><button>Produtos</button></a></li>
                <li><a href="./apresentaçao.html"><button>Sobre</button></a></li>
            </ul>
        </div>
        <div class="icones">
            <a href="Rastreamento.html">
                <img src="./assets/img/icone carrinho.png" alt="Carrinho" width="25px">
            </a>
            <a href="login.html">
                <img src="./assets/img/icone usuário.png" alt="Usuário" width="25px">
            </a>
        </div>
    </header>
    <main>
        <img class="banner" src="/logo loja de doces 6xcf.png" alt="Imagem de doces">
        <p>Os melhores doces para adoçar seu dia!</p>
    </main>
    <div class="container">
        <h1>Rastreamento de Pedidos - Loja de Doces</h1>
        <label for="cliente-select">Filtrar por Cliente:</label>
        <select id="cliente-select" onchange="atualizarListaPedidos(this.value)"></select>
        <table>
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Cliente</th>
                    <th>Pedido</th>
                    <th>Status</th>
                </tr>
            </thead>
            <tbody id="order-list"></tbody>
        </table>
    </div>
    <footer>
        <p>&copy;2025 Doce Encanto. Todos os direitos reservados.</p>
    </footer>
</body>
</html>